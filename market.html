<!DOCTYPE html>
<html lang="mr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡§Æ‡§æ‡§∞‡•ç‡§ï‡•á‡§ü ‡§≠‡§æ‡§µ</title>
  <style>
    body {
      font-family: 'Noto Sans Devanagari', sans-serif;
      background: #ffe4ec;
      margin: 0;
      padding: 20px;
    }
    h2 {
      text-align: center;
      color: #d63384;
    }
    .container {
      max-width: 600px;
      margin: auto;
    }
    select, button {
      padding: 10px;
      margin: 5px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
    }
    select {
      width: 60%;
    }
    button {
      background: #d63384;
      color: white;
      cursor: pointer;
    }
    .card {
      background: white;
      margin: 15px 0;
      padding: 15px;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .card h3 {
      margin: 0;
      color: #d63384;
    }
  </style>
</head>
<body>
  <h2>üìä ‡§ú‡§ø‡§≤‡•ç‡§π‡§æ‡§®‡•Å‡§∏‡§æ‡§∞ ‡§Æ‡§æ‡§∞‡•ç‡§ï‡•á‡§ü ‡§≠‡§æ‡§µ</h2>
  <div class="container">
    <select id="districtSelect">
      <option value="Buldhana">‡§¨‡•Å‡§≤‡§¢‡§æ‡§£‡§æ</option>
      <option value="Nagpur">‡§®‡§æ‡§ó‡§™‡•Ç‡§∞</option>
      <option value="Pune">‡§™‡•Å‡§£‡•á</option>
      <option value="Nashik">‡§®‡§æ‡§∂‡§ø‡§ï</option>
      <option value="Aurangabad">‡§î‡§∞‡§Ç‡§ó‡§æ‡§¨‡§æ‡§¶</option>
      <!-- ‡§¨‡§æ‡§ï‡•Ä ‡§∏‡§∞‡•ç‡§µ ‡§ú‡§ø‡§≤‡•ç‡§π‡•á ‡§á‡§•‡•á add ‡§ï‡§∞‡§§‡§æ ‡§Ø‡•á‡§§‡•Ä‡§≤ -->
    </select>
    <button onclick="getMarketData()">‡§≠‡§æ‡§µ ‡§™‡§π‡§æ</button>

    <div id="results"></div>
  </div>

  <script>
    const cropNames = {
      "Wheat": "‡§ó‡§π‡•Ç",
      "Rice": "‡§§‡§æ‡§Ç‡§¶‡•Ç‡§≥",
      "Maize": "‡§Æ‡§ï‡§æ",
      "Jowar(Sorghum)": "‡§ú‡•ç‡§µ‡§æ‡§∞‡•Ä",
      "Bajra": "‡§¨‡§æ‡§ú‡§∞‡•Ä",
      "Barley": "‡§ú‡§µ",
      "Ragi": "‡§®‡§æ‡§ö‡§£‡•Ä",
      "Green Gram (Moong)(Whole)": "‡§Æ‡•Ç‡§ó (‡§∏‡§Ç‡§™‡•Ç‡§∞‡•ç‡§£)",
      "Black Gram (Urad)(Whole)": "‡§â‡§°‡•Ä‡§¶ (‡§∏‡§Ç‡§™‡•Ç‡§∞‡•ç‡§£)",
      "Red Gram (Tur/Arhar)(Whole)": "‡§§‡•Ç‡§∞ (‡§∏‡§Ç‡§™‡•Ç‡§∞‡•ç‡§£)",
      "Onion": "‡§ï‡§æ‡§Ç‡§¶‡§æ",
      "Potato": "‡§¨‡§ü‡§æ‡§ü‡§æ",
      "Tomato": "‡§ü‡•ã‡§Æ‡•Ö‡§ü‡•ã",
      "Brinjal": "‡§µ‡§æ‡§Ç‡§ó‡•Ä",
      "Okra": "‡§≠‡•á‡§Ç‡§°‡•Ä",
      "Cabbage": "‡§ï‡•ã‡§¨‡•Ä",
      "Cauliflower": "‡§´‡•Å‡§≤‡§ï‡•ã‡§¨‡•Ä",
      "Chilli": "‡§Æ‡§ø‡§∞‡§ö‡•Ä",
      "Capsicum": "‡§¢‡•ã‡§¨‡§≥‡•Ä ‡§Æ‡§ø‡§∞‡§ö‡•Ä",
      "Carrot": "‡§ó‡§æ‡§ú‡§∞",
      "Cucumber": "‡§ï‡§æ‡§ï‡§°‡•Ä",
      "Bitter Gourd": "‡§ï‡§æ‡§∞‡§≤‡§Ç",
      "Bottle Gourd": "‡§¶‡•Å‡§ß‡•Ä ‡§≠‡•ã‡§™‡§≥‡§æ",
      "Pumpkin": "‡§≠‡•ã‡§™‡§≥‡§æ",
      "Spinach": "‡§™‡§æ‡§≤‡§ï",
      "Coriander": "‡§ï‡•ã‡§•‡§ø‡§Ç‡§¨‡•Ä‡§∞",
      "Fenugreek": "‡§Æ‡•á‡§•‡•Ä",
      "Banana": "‡§ï‡•á‡§≥‡§Ç",
      "Mango": "‡§Ü‡§Ç‡§¨‡§æ",
      "Orange": "‡§∏‡§Ç‡§§‡•ç‡§∞‡§Ç",
      "Sweet Lime": "‡§Æ‡•ã‡§∏‡§Ç‡§¨‡•Ä",
      "Papaya": "‡§™‡§™‡§à",
      "Pomegranate": "‡§°‡§æ‡§≥‡§ø‡§Ç‡§¨",
      "Apple": "‡§∏‡§´‡§∞‡§ö‡§Ç‡§¶",
      "Grapes": "‡§¶‡•ç‡§∞‡§æ‡§ï‡•ç‡§∑‡§Ç",
      "Guava": "‡§™‡•á‡§∞‡•Ç",
      "Watermelon": "‡§ï‡§≤‡§ø‡§Ç‡§ó‡§°",
      "Sapota": "‡§ö‡§ø‡§ï‡•ç‡§ï‡•Ç",
      "Sugarcane": "‡§ä‡§∏",
      "Cotton": "‡§ï‡§æ‡§™‡•Ç‡§∏",
      "Turmeric": "‡§π‡§≥‡§¶",
      "Ginger": "‡§Ü‡§≤‡•á",
      "Garlic": "‡§≤‡§∏‡•Ç‡§£"
    };

    async function getMarketData() {
      const district = document.getElementById("districtSelect").value;
      const resultsDiv = document.getElementById("results");
      resultsDiv.innerHTML = "‚è≥ ‡§°‡•á‡§ü‡§æ ‡§≤‡•ã‡§° ‡§π‡•ã‡§§ ‡§Ü‡§π‡•á...";

      try {
        const response = await fetch(
          `https://api.data.gov.in/resource/35985678-0d79-46b4-9ed6-6f13308a1d24?api-key=579b464db66ec23bdd0000019f0ca214d5c34d7476b4ffb1b25324e1&format=json&limit=20&filters[District]=${district}`
        );
        const data = await response.json();

        if (!data.records || data.records.length === 0) {
          resultsDiv.innerHTML = "üö´ ‡§Ø‡§æ ‡§ú‡§ø‡§≤‡•ç‡§π‡•ç‡§Ø‡§æ‡§§‡•Ä‡§≤ ‡§°‡•á‡§ü‡§æ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§æ‡§π‡•Ä.";
          return;
        }

        resultsDiv.innerHTML = "";
        data.records.forEach(item => {
          const crop = cropNames[item.Commodity] || item.Commodity; // ‡§Æ‡§∞‡§æ‡§†‡•Ä ‡§®‡§æ‡§µ ‡§®‡§∏‡•á‡§≤ ‡§§‡§∞ English ‡§¶‡§æ‡§ñ‡§µ‡•á‡§≤
          const card = `
            <div class="card">
              <h3>${crop}</h3>
              <p><b>‡§¨‡§æ‡§ú‡§æ‡§∞:</b> ${item.Market}</p>
              <p><b>‡§ï‡§ø‡§Æ‡§æ‡§® ‡§≠‡§æ‡§µ:</b> ‚Çπ${item.Min_Price}</p>
              <p><b>‡§ï‡§Æ‡§æ‡§≤ ‡§≠‡§æ‡§µ:</b> ‚Çπ${item.Max_Price}</p>
              <p><b>‡§∏‡§∞‡§æ‡§∏‡§∞‡•Ä ‡§≠‡§æ‡§µ:</b> ‚Çπ${item.Modal_Price}</p>
              <p><b>‡§§‡§æ‡§∞‡•Ä‡§ñ:</b> ${item.Arrival_Date}</p>
            </div>
          `;
          resultsDiv.innerHTML += card;
        });

      } catch (error) {
        resultsDiv.innerHTML = "‚ö†Ô∏è ‡§ï‡§æ‡§π‡•Ä‡§§‡§∞‡•Ä ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§Ü‡§≤‡•Ä ‡§Ü‡§π‡•á.";
        console.error(error);
      }
    }
  </script>
</body>
</html>
