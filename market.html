<!DOCTYPE html>
<html lang="mr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡§Æ‡§æ‡§∞‡•ç‡§ï‡•á‡§ü ‡§≠‡§æ‡§µ - AgriMitra</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #ff9a9e, #fecfef);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    header {
      background: #e91e63;
      color: white;
      width: 100%;
      padding: 15px;
      text-align: center;
      font-size: 22px;
      font-weight: bold;
    }

    .form-container {
      background: #fff;
      padding: 20px;
      margin: 20px;
      border-radius: 12px;
      box-shadow: 0px 4px 10px rgba(0,0,0,0.2);
      width: 90%;
      max-width: 400px;
    }

    label {
      font-weight: bold;
      margin-top: 10px;
      display: block;
    }

    select, button {
      width: 100%;
      padding: 10px;
      margin-top: 8px;
      border-radius: 6px;
      border: 2px solid #e91e63;
      font-size: 16px;
    }

    button {
      background: #e91e63;
      color: white;
      cursor: pointer;
      font-weight: bold;
    }

    button:hover {
      background: #d81b60;
    }

    .results {
      margin: 20px;
      display: grid;
      gap: 15px;
      width: 90%;
      max-width: 600px;
    }

    .card {
      background: white;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0px 4px 8px rgba(0,0,0,0.2);
    }

    .card h3 {
      margin: 0 0 10px;
      color: #e91e63;
    }

    .card p {
      margin: 5px 0;
      font-size: 15px;
    }
  </style>
</head>
<body>
  <header>üìà ‡§Æ‡§π‡§æ‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞ ‡§Æ‡§æ‡§∞‡•ç‡§ï‡•á‡§ü ‡§≠‡§æ‡§µ</header>

  <div class="form-container">
    <label for="district">‡§ú‡§ø‡§≤‡•ç‡§π‡§æ ‡§®‡§ø‡§µ‡§°‡§æ:</label>
    <select id="district">
      <option value="Ahmednagar">Ahmednagar</option>
      <option value="Akola">Akola</option>
      <option value="Amravati">Amravati</option>
      <option value="Aurangabad">Aurangabad</option>
      <option value="Beed">Beed</option>
      <option value="Bhandara">Bhandara</option>
      <option value="Buldhana">Buldhana</option>
      <option value="Chandrapur">Chandrapur</option>
      <option value="Dhule">Dhule</option>
      <option value="Gadchiroli">Gadchiroli</option>
      <option value="Gondia">Gondia</option>
      <option value="Hingoli">Hingoli</option>
      <option value="Jalgaon">Jalgaon</option>
      <option value="Jalna">Jalna</option>
      <option value="Kolhapur">Kolhapur</option>
      <option value="Latur">Latur</option>
      <option value="Mumbai">Mumbai</option>
      <option value="Nagpur">Nagpur</option>
      <option value="Nanded">Nanded</option>
      <option value="Nandurbar">Nandurbar</option>
      <option value="Nashik">Nashik</option>
      <option value="Osmanabad">Osmanabad</option>
      <option value="Palghar">Palghar</option>
      <option value="Parbhani">Parbhani</option>
      <option value="Pune">Pune</option>
      <option value="Raigad">Raigad</option>
      <option value="Ratnagiri">Ratnagiri</option>
      <option value="Sangli">Sangli</option>
      <option value="Satara">Satara</option>
      <option value="Sindhudurg">Sindhudurg</option>
      <option value="Solapur">Solapur</option>
      <option value="Thane">Thane</option>
      <option value="Wardha">Wardha</option>
      <option value="Washim">Washim</option>
      <option value="Yavatmal">Yavatmal</option>
    </select>

    <label for="commodity">‡§™‡§ø‡§ï/‡§≠‡§æ‡§ú‡•Ä ‡§®‡§ø‡§µ‡§°‡§æ:</label>
    <select id="commodity">
      <option value="Tomato">Tomato (‡§ü‡•ã‡§Æ‡•Ö‡§ü‡•ã)</option>
      <option value="Onion">Onion (‡§ï‡§æ‡§Ç‡§¶‡§æ)</option>
      <option value="Potato">Potato (‡§¨‡§ü‡§æ‡§ü‡§æ)</option>
      <option value="Brinjal">Brinjal (‡§µ‡§æ‡§Ç‡§ó‡•Ä)</option>
      <option value="Cabbage">Cabbage (‡§ï‡•ã‡§¨‡•Ä)</option>
      <option value="Cauliflower">Cauliflower (‡§´‡•Å‡§≤‡§ï‡•ã‡§¨‡•Ä)</option>
      <option value="Green Chilli">Green Chilli (‡§Æ‡§ø‡§∞‡§ö‡•Ä)</option>
      <option value="Spinach">Spinach (‡§™‡§æ‡§≤‡§ï)</option>
    </select>

    <button onclick="getMarketRates()">üîç ‡§≠‡§æ‡§µ ‡§™‡§æ‡§π‡§æ</button>
  </div>

  <div class="results" id="results"></div>

  <script>
    const API_KEY = "579b464db66ec23bdd0000019f0ca214d5c34d7476b4ffb1b25324e1";

    async function getMarketRates() {
      const district = document.getElementById("district").value;
      const commodity = document.getElementById("commodity").value;
      const resultsDiv = document.getElementById("results");
      resultsDiv.innerHTML = "‚è≥ ‡§°‡•á‡§ü‡§æ ‡§Ü‡§£‡§§ ‡§Ü‡§π‡•ã‡§§...";

      const url = `https://api.data.gov.in/resource/9ef84268-d588-465a-a308-a864a43d0070?api-key=${API_KEY}&format=json&filters[district]=${district}&filters[commodity]=${commodity}`;

      try {
        const res = await fetch(url);
        const data = await res.json();

        if (!data.records || data.records.length === 0) {
          resultsDiv.innerHTML = "üö´ ‡§°‡§æ‡§ü‡§æ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§æ‡§π‡•Ä.";
          return;
        }

        resultsDiv.innerHTML = "";
        data.records.forEach(item => {
          const card = document.createElement("div");
          card.className = "card";
          card.innerHTML = `
            <h3>${item.commodity} - ${item.variety || "N/A"}</h3>
            <p><b>‡§¨‡§æ‡§ú‡§æ‡§∞:</b> ${item.market}</p>
            <p><b>‡§¶‡§ø‡§®‡§æ‡§Ç‡§ï:</b> ${item.arrival_date}</p>
            <p>üü¢ ‡§ï‡§ø‡§Æ‡§æ‡§® ‡§≠‡§æ‡§µ: ‚Çπ${item.min_price}</p>
            <p>üî¥ ‡§ï‡§Æ‡§æ‡§≤ ‡§≠‡§æ‡§µ: ‚Çπ${item.max_price}</p>
            <p>‚≠ê ‡§Æ‡§ß‡•ç‡§Ø‡§Æ ‡§≠‡§æ‡§µ: ‚Çπ${item.modal_price}</p>
          `;
          resultsDiv.appendChild(card);
        });
      } catch (error) {
        resultsDiv.innerHTML = "‚ö†Ô∏è ‡§§‡•ç‡§∞‡•Å‡§ü‡•Ä ‡§Ü‡§≤‡•Ä: " + error.message;
      }
    }
  </script>
</body>
</html>
